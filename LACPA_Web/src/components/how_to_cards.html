<div>
  <div id="card-stack" class="relative w-[300px] h-[400px] mx-auto px-8">
    <!-- Card 1 (Top, 0°) -->
    <div
      class="flex flex-col justify-center items-center gap-10 card absolute top-0 left-1/2 -translate-x-1/2 w-[80%] h-[70%] bg-white rounded-xl shadow-lg border border-[#282828] cursor-pointer"
      style="
        transform: translateX(-50%) rotate(0deg);
        z-index: 9;
        opacity: 1;
        background: linear-gradient(180deg, #55bbea 0%, #284179 100%);
      "
    >
      <img
        src="/LACPA_Web/assets/icons/idcard.png"
        alt=""
        class="rounded-full border border-black p-5"
      />
      <p class="text-white text-center text-2xl leading-none px-2">
        Must have been a
        <span class="text-[#55BBEA]">Lebanese national</span> for at least ten
        years.
      </p>
    </div>

    <!-- Card 2 (10°) -->
    <div
      class="flex flex-col justify-center items-center gap-10 card absolute top-0 left-1/2 -translate-x-1/2 w-[80%] h-[70%] bg-white rounded-xl shadow-lg border border-[#282828] cursor-pointer"
      style="
        transform: translateX(-50%) rotate(-10deg);
        z-index: 8;
        opacity: 0.9;
        background: linear-gradient(180deg, #55bbea 0%, #284179 100%);
      "
    >
      <img
        src="/LACPA_Web/assets/icons/calendarChecked.png"
        alt=""
        class="rounded-full border border-black p-5"
      />
      <p class="text-white text-center text-2xl leading-none">
        Must be at least
        <span class="text-[#55BBEA]">21 years</span> of age.
      </p>
    </div>

    <!-- Card 3 (20°) -->
    <div
      class="flex flex-col justify-center items-center gap-10 card absolute top-0 left-1/2 -translate-x-1/2 w-[80%] h-[70%] bg-white rounded-xl shadow-lg border border-[#282828] cursor-pointer"
      style="
        transform: translateX(-50%) rotate(-20deg);
        z-index: 7;
        opacity: 0.8;
        background: linear-gradient(180deg, #55bbea 0%, #284179 100%);
      "
    >
      <img
        src="/LACPA_Web/assets/icons/shieldChecked.png"
        alt=""
        class="rounded-full border border-black p-5"
      />
      <p class="text-white text-center text-sm leading-none px-1">
        Must enjoy
        <span class="text-[#55BBEA]">full civil rights</span> and must not have
        been convicted of a felony or a disgraceful misdemeanor, in accordance
        with Paragraph 3 of Article 53 of Law No. 53/11 regulating the
        profession.
      </p>
    </div>

    <!-- Card 4 (30°) -->
    <div
      class="flex flex-col justify-center items-center gap-10 card absolute top-0 left-1/2 -translate-x-1/2 w-[80%] h-[70%] bg-white rounded-xl shadow-lg border border-[#282828] cursor-pointer"
      style="
        transform: translateX(-50%) rotate(-30deg);
        z-index: 6;
        opacity: 0.7;
        background: linear-gradient(180deg, #55bbea 0%, #284179 100%);
      "
    >
      <img
        src="/LACPA_Web/assets/icons/graduateHat.png"
        alt=""
        class="rounded-full border border-black p-5"
      />
      <p class="text-white text-center text-sm leading-none px-1">
        Must hold a Bachelor's degree in Business Administration or its
        equivalent, and the Lebanese Certified Public Accountant (CPA) degree
        issued by the Ministry of National Education, or a certificate
        considered equivalent issued by the Civil Service Council.
      </p>
    </div>

    <!-- Card 5 (40°) -->
    <div
      class="flex flex-col justify-center items-center gap-10 card absolute top-0 left-1/2 -translate-x-1/2 w-[80%] h-[70%] bg-white rounded-xl shadow-lg border border-[#282828] cursor-pointer"
      style="
        transform: translateX(-50%) rotate(-40deg);
        z-index: 5;
        opacity: 0.6;
        background: linear-gradient(180deg, #55bbea 0%, #284179 100%);
      "
    >
      <img
        src="/LACPA_Web/assets/icons/medail.png"
        alt=""
        class="rounded-full border border-black p-5"
      />
      <p class="text-white text-center text-xs leading-none px-1">
        The applicant must hold an advanced specialized degree in
        <span class="text-[#55BBEA]">Accounting</span>, either: a local degree
        recognized by the Association as equivalent, or a foreign certificate at
        the level of: Certified Public Accountant (CPA), or Chartered Accountant
        (CA), or Expertise Comptable (in French).These foreign degrees are
        accepted provided they are certified by the official granting body.
      </p>
    </div>

    <!-- Card 6 (45°) -->
    <div
      class="flex flex-col justify-center items-center gap-10 card absolute top-0 left-1/2 -translate-x-1/2 w-[80%] h-[70%] bg-white rounded-xl shadow-lg border border-[#282828] cursor-pointer"
      style="
        transform: translateX(-50%) rotate(-45deg);
        z-index: 4;
        opacity: 0.5;
        background: linear-gradient(180deg, #55bbea 0%, #284179 100%);
      "
    >
      <img
        src="/LACPA_Web/assets/icons/checklist.png"
        alt=""
        class="rounded-full border border-black p-5"
      />
      <p class="text-white text-center text-2xl leading-none">
        Must have completed
        <span class="text-[#55BBEA]">annual accounting duties</span> and
        evaluations
      </p>
    </div>

    <!-- Card 7 (50°) -->
    <div
      class="flex flex-col justify-center items-center gap-10 card absolute top-0 left-1/2 -translate-x-1/2 w-[80%] h-[70%] bg-white rounded-xl shadow-lg border border-[#282828] cursor-pointer"
      style="
        transform: translateX(-50%) rotate(-50deg);
        z-index: 3;
        opacity: 0.4;
        background: linear-gradient(180deg, #55bbea 0%, #284179 100%);
      "
    >
      <img
        src="/LACPA_Web/assets/icons/book.png"
        alt=""
        class="rounded-full border border-black p-5"
      />
      <p class="text-white text-center text-sm px-1 leading-none">
        Must have completed the training period
        <span class="text-[#55BBEA]">stipulated by law</span> and submit a
        certificate from the training supervisor proving successful completion
        (unless holding a certificate that grants exemption from the training
        period).
      </p>
    </div>

    <!-- Card 8 (55°) -->
    <div
      class="flex flex-col justify-center items-center gap-10 card absolute top-0 left-1/2 -translate-x-1/2 w-[80%] h-[70%] bg-white rounded-xl shadow-lg border border-[#282828] cursor-pointer"
      style="
        transform: translateX(-50%) rotate(-55deg);
        z-index: 2;
        opacity: 0.3;
        background: linear-gradient(180deg, #55bbea 0%, #284179 100%);
      "
    >
      <img
        src="/LACPA_Web/assets/icons/personX.png"
        alt=""
        class="rounded-full border border-black p-5"
      />
      <p class="text-white text-center text-sm px-1 leading-none">
        Must not have
        <span class="text-[#55BBEA]">practiced another profession</span> in the
        public sector for reasons other than the internship, unless authorized
        by the competent authority.
      </p>
    </div>

    <!-- Card 9 (60°) -->
    <div
      class="flex flex-col justify-center items-center gap-10 card absolute top-0 left-1/2 -translate-x-1/2 w-[80%] h-[70%] bg-white rounded-xl shadow-lg border border-[#282828] cursor-pointer"
      style="
        transform: translateX(-50%) rotate(-60deg);
        z-index: 1;
        opacity: 0.2;
        background: linear-gradient(180deg, #55bbea 0%, #284179 100%);
      "
    >
      <img
        src="/LACPA_Web/assets/icons/closedbookx.png"
        alt=""
        class="rounded-full border border-black p-5"
      />
      <p class="text-white text-center text-xl leading-none px-1">
        Must not have been
        <span class="text-[#55BBEA]">removed from the register</span> for disciplinary reasons or barred from practicing the profession.
        
      </p>
    </div>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
<script>
  const stack = document.getElementById("card-stack");
  let cards = Array.from(stack.querySelectorAll(".card"));

  function makeSwipeable(card) {
    let isDragging = false;
    let startX = 0;
    let currentX = 0;

    function updateCardPosition() {
      const deltaX = currentX - startX;
      const rotation = deltaX / 10;
      card.style.transform = `translateX(calc(-50% + ${deltaX}px)) rotate(${rotation}deg)`;
    }

    function swipeCard(deltaX) {
      const direction = deltaX > 0 ? 1 : -1;
      const moveX = direction * 500;

      anime({
        targets: card,
        translateX: `calc(-50% + ${moveX}px)`,
        rotate: direction * 30,
        opacity: 0,
        duration: 500,
        easing: "easeInOutQuad",
        complete: () => {
          // Move the swiped card to the back
          card.style.transform = "translateX(-50%) rotate(-60deg)";
          card.style.opacity = 0.2;
          card.style.zIndex = 1;
          stack.appendChild(card);

          // Update the cards array
          cards.push(cards.shift());

          // Animate the rest of the cards to update rotation/opacity/zIndex
          cards.forEach((c, index) => {
            anime({
              targets: c,
              rotate: -10 * index,
              opacity: 1 - index * 0.1,
              zIndex: cards.length - index,
              translateX: "-50%",
              duration: 300,
              easing: "easeOutQuad",
            });
          });

          // Make the new top card swipeable
          makeSwipeable(cards[0]);
        },
      });
    }

    card.addEventListener("pointerdown", (e) => {
      isDragging = true;
      startX = e.clientX;
      card.setPointerCapture(e.pointerId);
    });

    card.addEventListener("pointermove", (e) => {
      if (!isDragging) return;
      currentX = e.clientX;
      updateCardPosition();
    });

    card.addEventListener("pointerup", (e) => {
      if (!isDragging) return;
      isDragging = false;
      const deltaX = e.clientX - startX;
      if (Math.abs(deltaX) > 50) {
        swipeCard(deltaX);
      } else {
        // Reset position if not swiped far enough
        anime({
          targets: card,
          translateX: "-50%",
          rotate: 0,
          duration: 300,
          easing: "easeOutQuad",
        });
      }
    });
  }

  // Make the first card swipeable initially
  makeSwipeable(cards[0]);
</script>
